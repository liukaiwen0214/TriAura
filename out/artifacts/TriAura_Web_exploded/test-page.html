<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>TriAura 开发测试页面</title>
    <style>
        /* 简约的全局样式，优化为单屏显示 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #343a40;
            line-height: 1.4;
            height: 100vh;
            overflow: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1 {
            text-align: center;
            margin-bottom: 15px;
            color: #000000;
            font-size: 20px;
            font-weight: 600;
        }

        .description {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 3px solid #000000;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .description p {
            margin-bottom: 5px;
            font-size: 12px;
            color: #6c757d;
        }

        .description p:last-child {
            margin-bottom: 0;
        }

        .page-list {
            list-style: none;
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 10px;
            overflow-y: auto;
        }

        .page-item {
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 15px;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
            border: 1px solid #e9ecef;
        }

        .page-item:hover {
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            border-color: #000000;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .page-name {
            font-weight: 600;
            color: #000000;
            font-size: 14px;
        }

        .page-link {
            display: inline-block;
            background: #000000;
            color: white;
            border: none;
            padding: 4px 10px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .page-link:hover {
            background: #333333;
        }

        .page-details {
            font-size: 11px;
            color: #6c757d;
            background: #f8f9fa;
            padding: 6px;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
        }

        .api-info {
            margin-top: 5px;
            font-size: 10px;
            color: #868e96;
        }

        .api-info strong {
            color: #495057;
        }

        /* 统一主色调 */
        :root {
            --primary-color: #28a745;
        }

        /* 默认页面样式（使用#链接，未设置具体页面） */
        .default-page {
            background: rgba(248, 249, 250, 0.95);
            border-color: #e9ecef;
            opacity: 0.8;
        }

        .default-page .page-name {
            color: #6c757d;
            font-weight: normal;
        }

        .default-page .page-link {
            background: #6c757d;
            cursor: not-allowed;
        }

        .default-page .page-link:hover {
            background: #5a6268;
        }

        /* 自定义页面样式（已设置具体链接） */
        .custom-page {
            background: rgba(255, 255, 255, 0.98);
            border-color: #dee2e6;
        }

        .custom-page .page-name {
            color: var(--primary-color);
            font-weight: 600;
        }

        .custom-page .page-link {
            background: var(--primary-color);
            cursor: pointer;
        }

        .custom-page .page-link:hover {
            background: #218838;
        }

        /* 自定义页面的特殊样式 */
        .custom-page .page-header {
            font-weight: 600;
        }

        .custom-page .page-details {
            font-style: italic;
        }

        /* 统一左侧边框颜色 */
        .custom-page .page-header {
            border-left-color: var(--primary-color) !important;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>TriAura 开发测试页面</h1>

    <div class="description">
        <p>本页面用于开发测试，罗列了所有页面跳转记录。每个页面跳转前会自动调用用户登录API，以绕过登录校验。</p>
        <p><strong>使用说明：</strong>点击右侧"跳转到页面"按钮即可访问对应页面，系统会自动处理登录认证。</p>
    </div>

    <ul class="page-list" id="pageList">
        <!-- 页面跳转记录将通过JavaScript动态生成 -->
    </ul>
</div>

<script>
    // 模拟用户登录API，用于逃避登录校验
    function simulateLogin() {
        console.log('正在调用用户登录API...');
        fetch('/TriAura_war_exploded/test/mock-login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({token: 'test-token'})
        }).then(response => response.json()).then(data => {
            console.log('登录API返回数据:', data);
            return data;
            // 这里可以添加处理登录成功后的逻辑
        }).catch(error => {
            console.error('登录API调用失败:', error);
        });
    }

    // 默认页面内容，用于比较判断
    const defaultPageContent = {
        name: '测试页面',
        path: '#',
        description: '自定义测试页面'
    };

    // 自定义页面跳转数据，可根据需要修改名称、链接和颜色
    const pageRecords = [
        {
            name: '首页',
            path: '/TriAura_war_exploded/user/tiraura',
            description: '系统首页'
        },
        {
            name: '生活管理-首页',
            path: '/TriAura_war_exploded/life/life-total',
            description: '生活管理首页'
        },
        {
            name: '生活管理-资产管理',
            path: '/TriAura_war_exploded/life/life-asset',
            description: '资产管理'
        },
        {
            name: '游戏管理-首页',
            path: '/TriAura_war_exploded/shikigami/home',
            description: '游戏管理首页'
        },
        {
            name: '游戏管理-式神录',
            path: '/TriAura_war_exploded/shikigami/record',
            description: '式神录'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        },
        {
            name: '测试页面',
            path: '#',
            description: '自定义测试页面'
        }
    ];

    // 统一的跳转API，用于处理所有页面跳转
    function handlePageRedirect(targetUrl) {
        console.log('正在调用统一跳转API...');

        // 调用登录API，绕过登录校验
        simulateLogin();

        console.log(`跳转到：${targetUrl}`);
        // 在新页面打开目标页面
        window.open(targetUrl, '_blank');
    }

    // 生成页面列表
    function generatePageList() {
        const pageList = document.getElementById('pageList');

        pageRecords.forEach(page => {
            const listItem = document.createElement('li');

            // 判断是否为默认内容
            const isDefault =
                page.name === defaultPageContent.name &&
                page.path === defaultPageContent.path &&
                page.description === defaultPageContent.description;

            // 根据是否为默认内容应用不同的样式类
            listItem.className = `page-item ${isDefault ? 'default-page' : 'custom-page'}`;

            // 只有非默认页面才添加跳转事件
            const buttonHtml = isDefault ?
                `<button class="page-link" disabled>跳转到页面</button>` :
                `<button class="page-link" onclick="handlePageRedirect('${page.path}')">跳转到页面</button>`;

            listItem.innerHTML = `
                    <div class="page-header">
                        <span class="page-name">${page.name}</span>
                        ${buttonHtml}
                    </div>
                    <div class="page-details">${page.description}</div>
                    <div class="api-info">
                        <strong>跳转API：</strong>统一调用跳转API，处理登录认证和页面跳转
                    </div>
                `;

            pageList.appendChild(listItem);
        });
    }

    // 页面加载完成后生成列表
    document.addEventListener('DOMContentLoaded', generatePageList);
</script>
</body>
</html>